"use strict";(globalThis.webpackChunkfrontend=globalThis.webpackChunkfrontend||[]).push([[7400],{146(n,i,e){e.r(i),e.d(i,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"chapter_3_urdf_humanoids","title":"Understanding URDF for Humanoids","description":"What is URDF?","source":"@site/docs/chapter_3_urdf_humanoids.md","sourceDirName":".","slug":"/chapter_3_urdf_humanoids","permalink":"/ai-book/docs/chapter_3_urdf_humanoids","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/chapter_3_urdf_humanoids.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Bridging Python Agents to ROS Controllers","permalink":"/ai-book/docs/chapter_2_rclpy_python_agents"},"next":{"title":"Understanding the Digital Twin","permalink":"/ai-book/docs/chapter_1_digital_twin_overview"}}');var o=e(4848),l=e(8453);const s={},t="Understanding URDF for Humanoids",a={},d=[{value:"What is URDF?",id:"what-is-urdf",level:2},{value:"Purpose of URDF",id:"purpose-of-urdf",level:3},{value:"URDF Components",id:"urdf-components",level:3},{value:"Defining Robot Models",id:"defining-robot-models",level:2},{value:"Basic URDF Structure",id:"basic-urdf-structure",level:3},{value:"Link Definition",id:"link-definition",level:3},{value:"Joint Definition",id:"joint-definition",level:3},{value:"Creating Humanoid Robot Models",id:"creating-humanoid-robot-models",level:2},{value:"Humanoid Robot Structure",id:"humanoid-robot-structure",level:3},{value:"Complete Humanoid URDF Example",id:"complete-humanoid-urdf-example",level:3},{value:"Best Practices for Humanoid URDF",id:"best-practices-for-humanoid-urdf",level:3},{value:"Visualizing and Testing URDF",id:"visualizing-and-testing-urdf",level:2},{value:"Using RViz for Visualization",id:"using-rviz-for-visualization",level:3},{value:"Using Gazebo for Simulation",id:"using-gazebo-for-simulation",level:3},{value:"Testing URDF Validity",id:"testing-urdf-validity",level:3},{value:"Common Issues and Solutions",id:"common-issues-and-solutions",level:3},{value:"Creating URDF with Xacro",id:"creating-urdf-with-xacro",level:3}];function c(n){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.header,{children:(0,o.jsx)(i.h1,{id:"understanding-urdf-for-humanoids",children:"Understanding URDF for Humanoids"})}),"\n",(0,o.jsx)(i.h2,{id:"what-is-urdf",children:"What is URDF?"}),"\n",(0,o.jsx)(i.p,{children:"URDF stands for Unified Robot Description Format. It's an XML-based format used in ROS to describe robot models, including their physical and visual properties. URDF allows you to define the structure of a robot in terms of links (rigid parts) and joints (connections between links that may move)."}),"\n",(0,o.jsx)(i.h3,{id:"purpose-of-urdf",children:"Purpose of URDF"}),"\n",(0,o.jsx)(i.p,{children:"URDF serves several critical purposes in robotics:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Robot Modeling"}),": Define the physical structure of a robot including all links and joints"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Visualization"}),": Provide information needed to visualize the robot in tools like RViz"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Simulation"}),": Supply physical properties needed for robot simulation"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Kinematics"}),": Enable kinematic calculations for robot motion planning"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Collision Detection"}),": Define collision properties for safety and planning"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"urdf-components",children:"URDF Components"}),"\n",(0,o.jsx)(i.p,{children:"A URDF file typically contains:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Links"}),": Rigid parts of the robot (e.g., base, arms, legs)"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Joints"}),": Connections between links that define how they can move relative to each other"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Visual"}),": Information about how the link appears visually"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Collision"}),": Information about the collision properties of the link"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Inertial"}),": Physical properties like mass and moment of inertia"]}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"defining-robot-models",children:"Defining Robot Models"}),"\n",(0,o.jsx)(i.h3,{id:"basic-urdf-structure",children:"Basic URDF Structure"}),"\n",(0,o.jsx)(i.p,{children:"Here's the basic structure of a URDF file:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="robot_name">\n  \x3c!-- Define links --\x3e\n  <link name="link_name">\n    <visual>\n      \x3c!-- Visual properties --\x3e\n    </visual>\n    <collision>\n      \x3c!-- Collision properties --\x3e\n    </collision>\n    <inertial>\n      \x3c!-- Inertial properties --\x3e\n    </inertial>\n  </link>\n\n  \x3c!-- Define joints --\x3e\n  <joint name="joint_name" type="joint_type">\n    <parent link="parent_link_name"/>\n    <child link="child_link_name"/>\n    \x3c!-- Joint properties --\x3e\n  </joint>\n</robot>\n'})}),"\n",(0,o.jsx)(i.h3,{id:"link-definition",children:"Link Definition"}),"\n",(0,o.jsx)(i.p,{children:"A link represents a rigid part of the robot. Here's a detailed example:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-xml",children:'<link name="base_link">\n  <visual>\n    <geometry>\n      <cylinder length="0.6" radius="0.2"/>\n    </geometry>\n    <material name="blue">\n      <color rgba="0 0 0.8 1"/>\n    </material>\n  </visual>\n  <collision>\n    <geometry>\n      <cylinder length="0.6" radius="0.2"/>\n    </geometry>\n  </collision>\n  <inertial>\n    <mass value="10"/>\n    <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>\n  </inertial>\n</link>\n'})}),"\n",(0,o.jsx)(i.h3,{id:"joint-definition",children:"Joint Definition"}),"\n",(0,o.jsx)(i.p,{children:"Joints define how links can move relative to each other. Common joint types include:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"fixed"}),": No movement between links"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"revolute"}),": Rotational movement around an axis"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"prismatic"}),": Linear movement along an axis"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"continuous"}),": Continuous rotational movement (like a revolute joint without limits)"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"floating"}),": 6-DOF movement (rarely used)"]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Example joint definition:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-xml",children:'<joint name="joint_name" type="revolute">\n  <parent link="base_link"/>\n  <child link="upper_arm_link"/>\n  <origin xyz="0 0 0.5" rpy="0 0 0"/>\n  <axis xyz="0 0 1"/>\n  <limit lower="-2.0" upper="1.0" effort="30" velocity="1.0"/>\n</joint>\n'})}),"\n",(0,o.jsx)(i.h2,{id:"creating-humanoid-robot-models",children:"Creating Humanoid Robot Models"}),"\n",(0,o.jsx)(i.h3,{id:"humanoid-robot-structure",children:"Humanoid Robot Structure"}),"\n",(0,o.jsx)(i.p,{children:"A humanoid robot typically has a structure like this:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:"base_link (torso)\n\u251c\u2500\u2500 head_link\n\u251c\u2500\u2500 left_upper_arm_link\n\u2502   \u251c\u2500\u2500 left_lower_arm_link\n\u2502   \u2514\u2500\u2500 left_hand_link\n\u251c\u2500\u2500 right_upper_arm_link\n\u2502   \u251c\u2500\u2500 right_lower_arm_link\n\u2502   \u2514\u2500\u2500 right_hand_link\n\u251c\u2500\u2500 left_upper_leg_link\n\u2502   \u251c\u2500\u2500 left_lower_leg_link\n\u2502   \u2514\u2500\u2500 left_foot_link\n\u2514\u2500\u2500 right_upper_leg_link\n    \u251c\u2500\u2500 right_lower_leg_link\n    \u2514\u2500\u2500 right_foot_link\n"})}),"\n",(0,o.jsx)(i.h3,{id:"complete-humanoid-urdf-example",children:"Complete Humanoid URDF Example"}),"\n",(0,o.jsx)(i.p,{children:"Here's a simplified example of a humanoid robot model:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="simple_humanoid">\n  \x3c!-- Torso --\x3e\n  <link name="torso">\n    <visual>\n      <geometry>\n        <cylinder length="0.8" radius="0.15"/>\n      </geometry>\n      <origin xyz="0 0 0.4"/>\n      <material name="light_grey">\n        <color rgba="0.7 0.7 0.7 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder length="0.8" radius="0.15"/>\n      </geometry>\n      <origin xyz="0 0 0.4"/>\n    </collision>\n    <inertial>\n      <mass value="10"/>\n      <inertia ixx="0.4" ixy="0" ixz="0" iyy="0.4" iyz="0" izz="0.2"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Head --\x3e\n  <link name="head">\n    <visual>\n      <geometry>\n        <sphere radius="0.1"/>\n      </geometry>\n      <origin xyz="0 0 0.1"/>\n      <material name="light_grey">\n        <color rgba="0.7 0.7 0.7 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <sphere radius="0.1"/>\n      </geometry>\n      <origin xyz="0 0 0.1"/>\n    </collision>\n    <inertial>\n      <mass value="2"/>\n      <inertia ixx="0.004" ixy="0" ixz="0" iyy="0.004" iyz="0" izz="0.004"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Neck joint --\x3e\n  <joint name="neck_joint" type="revolute">\n    <parent link="torso"/>\n    <child link="head"/>\n    <origin xyz="0 0 0.8"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-0.5" upper="0.5" effort="10" velocity="1"/>\n  </joint>\n\n  \x3c!-- Left arm --\x3e\n  <link name="left_upper_arm">\n    <visual>\n      <geometry>\n        <cylinder length="0.4" radius="0.05"/>\n      </geometry>\n      <origin xyz="0 0 -0.2" rpy="1.57079632679 0 0"/>\n      <material name="light_grey">\n        <color rgba="0.7 0.7 0.7 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder length="0.4" radius="0.05"/>\n      </geometry>\n      <origin xyz="0 0 -0.2" rpy="1.57079632679 0 0"/>\n    </collision>\n    <inertial>\n      <mass value="1"/>\n      <inertia ixx="0.005" ixy="0" ixz="0" iyy="0.005" iyz="0" izz="0.001"/>\n    </inertial>\n  </link>\n\n  <joint name="left_shoulder_joint" type="revolute">\n    <parent link="torso"/>\n    <child link="left_upper_arm"/>\n    <origin xyz="0.1 0.15 0.6"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-1.57" upper="1.57" effort="10" velocity="1"/>\n  </joint>\n</robot>\n'})}),"\n",(0,o.jsx)(i.h3,{id:"best-practices-for-humanoid-urdf",children:"Best Practices for Humanoid URDF"}),"\n",(0,o.jsx)(i.p,{children:"When creating humanoid robot models:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Proper Mass Distribution"}),": Assign realistic masses to each link"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Accurate Dimensions"}),": Use actual robot dimensions for accurate simulation"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Consistent Naming"}),": Use a consistent naming convention for links and joints"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Joint Limits"}),": Set appropriate limits for joint movement"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Inertial Properties"}),": Calculate or estimate accurate inertial properties"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Collision vs Visual"}),": Use simpler geometries for collision than visual when possible for performance"]}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"visualizing-and-testing-urdf",children:"Visualizing and Testing URDF"}),"\n",(0,o.jsx)(i.h3,{id:"using-rviz-for-visualization",children:"Using RViz for Visualization"}),"\n",(0,o.jsx)(i.p,{children:"RViz is ROS's 3D visualization tool that can display URDF models:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsx)(i.li,{children:"Launch RViz"}),"\n",(0,o.jsx)(i.li,{children:"Add a RobotModel display"}),"\n",(0,o.jsx)(i.li,{children:"Set the Robot Description parameter to your URDF parameter name"}),"\n",(0,o.jsx)(i.li,{children:"The robot model should appear in the visualization"}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"using-gazebo-for-simulation",children:"Using Gazebo for Simulation"}),"\n",(0,o.jsx)(i.p,{children:"Gazebo is a physics simulator that can load URDF models:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsx)(i.li,{children:"Convert your URDF to SDF format (Gazebo's native format) or use directly"}),"\n",(0,o.jsx)(i.li,{children:"Create a Gazebo world file"}),"\n",(0,o.jsx)(i.li,{children:"Launch Gazebo with your robot model"}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"testing-urdf-validity",children:"Testing URDF Validity"}),"\n",(0,o.jsx)(i.p,{children:"Before using your URDF, validate it:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"XML Validation"}),": Ensure the XML is well-formed"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"URDF Validation"}),": Use tools like ",(0,o.jsx)(i.code,{children:"check_urdf"})," to validate the structure"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Kinematic Chains"}),": Verify that all joints form proper kinematic chains"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"No Dangling Joints"}),": Ensure all joints connect to existing links"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"common-issues-and-solutions",children:"Common Issues and Solutions"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Missing Links"}),": Ensure every joint references existing parent and child links"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Inertial Issues"}),": If simulation is unstable, check inertial properties"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Joint Direction"}),": Verify joint axes are correctly oriented"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Collision Issues"}),": Make sure collision meshes don't intersect in the default configuration"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"creating-urdf-with-xacro",children:"Creating URDF with Xacro"}),"\n",(0,o.jsx)(i.p,{children:"For complex robots, use Xacro (XML Macros) to make URDF more manageable:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="humanoid_with_xacro">\n  <xacro:property name="M_PI" value="3.1415926535897931" />\n\n  <xacro:macro name="simple_cylinder" params="name radius length xyz *origin *material">\n    <link name="${name}">\n      <visual>\n        <geometry>\n          <cylinder radius="${radius}" length="${length}"/>\n        </geometry>\n        <xacro:insert_block name="origin"/>\n        <xacro:insert_block name="material"/>\n      </visual>\n      <collision>\n        <geometry>\n          <cylinder radius="${radius}" length="${length}"/>\n        </geometry>\n        <xacro:insert_block name="origin"/>\n      </collision>\n      <inertial>\n        <mass value="${radius * radius * length * 10}"/>\n        <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>\n      </inertial>\n    </link>\n  </xacro:macro>\n\n  <xacro:simple_cylinder name="base_link" radius="0.1" length="0.5" xyz="0 0 0">\n    <origin xyz="0 0 0"/>\n    <material name="blue">\n      <color rgba="0 0 0.8 1"/>\n    </material>\n  </xacro:simple_cylinder>\n</robot>\n'})})]})}function h(n={}){const{wrapper:i}={...(0,l.R)(),...n.components};return i?(0,o.jsx)(i,{...n,children:(0,o.jsx)(c,{...n})}):c(n)}},8453(n,i,e){e.d(i,{R:()=>s,x:()=>t});var r=e(6540);const o={},l=r.createContext(o);function s(n){const i=r.useContext(l);return r.useMemo(function(){return"function"==typeof n?n(i):{...i,...n}},[i,n])}function t(n){let i;return i=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:s(n.components),r.createElement(l.Provider,{value:i},n.children)}}}]);